<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guía de Brazos: Ejercicios para Hombres</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Fuentes Limpias y Modernas para Fitness -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <style>
        /* --- Estilos Adaptados para Fitness (Brazos) --- */
        :root {
            --color-primary: #3b82f6; /* Azul Vibrante */
            --color-secondary: #f97316; /* Naranja Energético (Botones/Alertas) */
            --color-tertiary: #10b981; /* Verde Saludable (Énfasis Positivo) */
            --color-background: #f3f4f6; /* Gris Muy Claro (Fondo General) */
            --color-text: #1f2937; /* Gris Oscuro (Texto Principal) */
            --color-text-muted: #6b7280; /* Gris Medio */
            --color-modal-bg: #ffffff; /* Blanco (Modal) */
            --color-border: #d1d5db; /* Borde Gris Claro */
            --color-error-bg: #fff1f2; /* Fondo error rosa claro */
            --color-error-text: #be123c; /* Texto error rojo oscuro */
            --color-error-border: #fecdd3; /* Borde error rosa */

            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --border-radius: 6px; /* Bordes Suavemente Redondeados */
            --transition-normal: all 0.25s ease-in-out;
        }
        body { font-family: 'Lato', sans-serif; background-color: var(--color-background); color: var(--color-text); line-height: 1.65; font-weight: 400; }
        h1, h2, h3, h4, .logo { font-family: 'Poppins', sans-serif; font-weight: 700; }
        .logo { color: var(--color-primary); }
        h1.page-title { color: var(--color-primary); font-weight: 700; }
        h2.section-title { color: var(--color-text); border-bottom: 3px solid var(--color-primary); padding-bottom: 0.6rem; display: inline-block; font-weight: 600; }
        #modal-title { color: var(--color-primary); font-weight: 600; }
        .navbar { background-color: #ffffff; box-shadow: var(--shadow-md); position: sticky; top: 0; z-index: 20; border-bottom: 1px solid var(--color-border); }
        /* Estilos Buscador */
        #search-container { margin-bottom: 2.5rem; position: relative; }
        #search-input { width: 100%; padding: 0.9rem 1.2rem 0.9rem 3rem; border: 1px solid var(--color-border); border-radius: var(--border-radius); font-size: 1rem; background-color: #ffffff; color: var(--color-text); box-shadow: var(--shadow-sm); transition: var(--transition-normal); font-family: 'Lato'; }
        #search-input::placeholder { color: var(--color-text-muted); }
        #search-input:focus { border-color: var(--color-primary); box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.2); outline: none; }
        #search-container .fa-search { position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--color-text-muted); font-size: 1.1rem; transition: color 0.2s ease; }
        #search-input:focus + .fa-search { color: var(--color-primary); }

        #title-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 1rem; }
        .title-item { background-color: var(--color-modal-bg); padding: 1.2rem 1rem; border-radius: var(--border-radius); box-shadow: var(--shadow-sm); cursor: pointer; transition: var(--transition-normal); text-align: left; /* Alineación izquierda para mejor lectura */ font-weight: 400; color: var(--color-text); border: 1px solid var(--color-border); display: flex; align-items: center; min-height: 65px; font-family: 'Lato'; font-size: 0.95rem; padding-left: 1.5rem; position: relative; }
        .title-item::before { /* Pequeño indicador visual */ content: ''; position: absolute; left: 0; top: 0; bottom: 0; width: 4px; background-color: var(--color-border); transition: background-color 0.2s ease; border-top-left-radius: var(--border-radius); border-bottom-left-radius: var(--border-radius); }
        .title-item:hover { transform: translateY(-3px) scale(1.01); box-shadow: var(--shadow-md); border-color: var(--color-primary); color: var(--color-primary); }
        .title-item:hover::before { background-color: var(--color-primary); }

        #generate-more-btn { grid-column: 1 / -1; background-color: var(--color-secondary); color: white; padding: 0.8rem 1.6rem; border: none; border-radius: var(--border-radius); font-family: 'Poppins', sans-serif; font-weight: 600; cursor: pointer; transition: var(--transition-normal); margin-top: 2rem; letter-spacing: 0.5px; text-shadow: none; }
        #generate-more-btn:hover:not(:disabled) { background-color: #ea580c; /* Naranja más oscuro */ box-shadow: var(--shadow-md); transform: translateY(-2px); }
        #generate-more-btn:disabled { background-color: #9ca3af; color: #e5e7eb; cursor: not-allowed; opacity: 0.8; transform: none; box-shadow: none; }
        #generate-more-btn .fa-sync-alt { color: white; }

        #story-modal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(31, 41, 55, 0.85); /* Overlay gris oscuro */ display: none; align-items: center; justify-content: center; z-index: 50; padding: 1rem; }
        #story-modal.active { display: flex; }
        .modal-content-wrapper {
            background-color: var(--color-modal-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem 2rem;
            max-width: 950px;
            width: 95%;
            max-height: 90vh;
            min-height: 400px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--shadow-lg);
            display: flex;
            flex-direction: column;
        }
        .modal-close-btn { position: absolute; top: 12px; right: 12px; background: #e5e7eb; border: none; border-radius: 50%; width: 38px; height: 38px; font-size: 1.7rem; color: var(--color-text-muted); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: var(--transition-normal); z-index: 60; }
        .modal-close-btn:hover { background-color: var(--color-primary); color: #ffffff; transform: rotate(90deg); }
        #modal-title { font-size: 1.7rem; text-align: center; margin-bottom: 1.2rem; flex-shrink: 0; padding: 0 1rem; line-height: 1.3; }

        /* Área de Contenido Principal (Texto + Imagen al final) */
        #modal-content-area { flex-grow: 1; min-height: 0; display: flex; flex-direction: column; overflow-y: auto; padding-right: 10px; margin-bottom: 1rem;
            scrollbar-width: thin; scrollbar-color: var(--color-primary) var(--color-border);
        }
        #modal-content-area::-webkit-scrollbar { width: 8px; }
        #modal-content-area::-webkit-scrollbar-track { background: var(--color-border); border-radius: var(--border-radius); }
        #modal-content-area::-webkit-scrollbar-thumb { background-color: var(--color-primary); border-radius: var(--border-radius); border: 2px solid var(--color-border); }

        #modal-content { padding: 0 5px; }
        #modal-content p:not(:last-child) { margin-bottom: 1.3em; }
        #modal-content strong { color: var(--color-primary); font-weight: 700; }
        #modal-content em { color: var(--color-tertiary); font-style: italic; font-weight: 400; }
        #modal-content h1, #modal-content h2, #modal-content h3, #modal-content h4 { font-family: 'Poppins', sans-serif; margin-top: 2em; margin-bottom: 1em; color: var(--color-primary); border-bottom: 1px solid var(--color-border); padding-bottom: 0.4em; font-weight: 600; }
        #modal-content h1 { font-size: 1.4em; }
        #modal-content h2 { font-size: 1.25em; }
        #modal-content h3 { font-size: 1.1em; color: #059669; } /* Verde más oscuro para H3 */
        #modal-content h4 { font-size: 1.0em; color: var(--color-text-muted); border-bottom: none; font-weight: 600;}
        /* Estilos imagen final y placeholder */
        #modal-content .final-image { display: block; max-width: 80%; height: auto; margin: 2rem auto 1rem auto; border: 1px solid var(--color-border); border-radius: var(--border-radius); box-shadow: var(--shadow-sm); cursor: pointer; transition: transform 0.2s ease, box-shadow 0.2s ease; }
        #modal-content .final-image:hover { transform: scale(1.03); box-shadow: var(--shadow-md); }
        #modal-content .image-placeholder { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 150px; margin: 2rem auto 1rem auto; color: var(--color-text-muted); }
        #modal-content .image-placeholder .spinner { border: 4px solid rgba(209, 213, 219, 0.7); width: 35px; height: 35px; border-radius: 50%; border-left-color: var(--color-primary); animation: spin 1s linear infinite; margin-bottom: 0.5rem; }
        #modal-content .image-placeholder .placeholder-icon { font-size: 2.5rem; color: #9ca3af;} /* Icono gris */

        /* Chat Section Styles */
        #chat-section { border-top: 1px solid var(--color-border); padding-top: 1rem; margin-top: 1rem; flex-shrink: 0; display: flex; flex-direction: column; max-height: 250px; background-color: #f9fafb; /* Fondo ligeramente diferente */ padding: 1rem; border-radius: var(--border-radius); }
        #chat-history { flex-grow: 1; overflow-y: auto; margin-bottom: 0.8rem; padding: 0.5rem; border: 1px solid var(--color-border); border-radius: var(--border-radius); background-color: #ffffff; scroll-behavior: smooth;
            scrollbar-width: thin; scrollbar-color: var(--color-secondary) var(--color-border);
        }
        #chat-history::-webkit-scrollbar { width: 6px; }
        #chat-history::-webkit-scrollbar-track { background: var(--color-border); border-radius: var(--border-radius); }
        #chat-history::-webkit-scrollbar-thumb { background-color: var(--color-secondary); border-radius: var(--border-radius); }
        .chat-message { margin-bottom: 0.6rem; padding: 0.6rem 0.9rem; border-radius: var(--border-radius); max-width: 85%; word-wrap: break-word; line-height: 1.5; box-shadow: var(--shadow-sm); }
        .user-message { background-color: var(--color-primary); color: white; margin-left: auto; text-align: left; font-weight: 400;} /* User messages start left for consistency */
        .ai-message { background-color: #e5e7eb; color: var(--color-text); margin-right: auto; text-align: left; font-weight: 400; }
        .chat-error { color: var(--color-error-text); font-style: italic; text-align: center; font-size: 0.9em; padding: 0.5rem; }
        #chat-input-area { display: flex; gap: 0.5rem; }
        #chat-input { flex-grow: 1; padding: 0.7rem 0.9rem; border: 1px solid var(--color-border); background-color: #ffffff; color: var(--color-text); border-radius: var(--border-radius); font-family: 'Lato'; font-size: 0.95rem; }
        #chat-input:focus { outline: none; border-color: var(--color-primary); box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2); }
        #chat-send-btn { padding: 0.7rem 1.1rem; background-color: var(--color-primary); color: white; border: none; border-radius: var(--border-radius); cursor: pointer; transition: background-color 0.2s ease; font-size: 0.9rem; }
        #chat-send-btn:hover:not(:disabled) { background-color: #2563eb; /* Azul más oscuro */ }
        #chat-send-btn:disabled { background-color: var(--color-text-muted); cursor: not-allowed; }
        #chat-loading { text-align: center; padding: 0.5rem; font-size: 0.9em; color: var(--color-text-muted); display: none; }
        #chat-loading .fa-spinner { margin-right: 0.5rem; color: var(--color-primary); }

        #modal-loading { text-align: center; padding: 3rem 0; position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255, 255, 255, 0.97); display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 55; border-radius: var(--border-radius); }
        .loading-spinner-modal { width: 50px; height: 50px; border: 5px solid #e5e7eb; border-top-color: var(--color-primary); border-radius: 50%; animation: spin 1.2s linear infinite; margin: 0 auto 1.5rem auto; }
        #modal-loading p { font-weight: 600; color: var(--color-text); font-size: 1.2rem; font-family: 'Poppins'; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .error-msg { background-color: var(--color-error-bg); color: var(--color-error-text); padding: 1rem; border-radius: var(--border-radius); border: 1px solid var(--color-error-border); margin-top: 1.5rem; text-align: center; flex-shrink: 0; font-weight: 400; font-family: 'Lato'; }
        .error-msg i { margin-right: 0.7rem; }
        .content-hidden { display: none !important; }
        .title-item.hidden { display: none; }

        /* Fullscreen Image Overlay */
        #image-fullscreen-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(31, 41, 55, 0.9); display: none; align-items: center; justify-content: center; z-index: 100; padding: 2rem; cursor: zoom-out; }
        #image-fullscreen-overlay.active { display: flex; }
        #fullscreen-image { max-width: 95%; max-height: 95%; object-fit: contain; border: 2px solid var(--color-primary); box-shadow: var(--shadow-lg); background-color: white; /* Fondo blanco para imágenes con transparencia */ }
        #fullscreen-close-btn { position: absolute; top: 20px; right: 25px; background: var(--color-modal-bg); border: 1px solid var(--color-primary); border-radius: 50%; width: 40px; height: 40px; font-size: 1.8rem; color: var(--color-primary); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: var(--transition-normal); }
        #fullscreen-close-btn:hover { background-color: var(--color-primary); color: var(--color-background); transform: scale(1.1); }
    </style>
</head>
<body>
     <!-- Header/Navbar -->
     <nav class="navbar mb-10">
         <div class="container mx-auto px-4 py-4 flex flex-col sm:flex-row justify-between items-center">
             <div class="flex items-center text-center mb-3 sm:mb-0">
                 <h1 class="logo text-2xl sm:text-3xl">
                     <i class="fas fa-dumbbell mr-2 text-blue-500"></i> <!-- Icono pesa -->
                     Guía de Brazos
                 </h1>
             </div>
             <span class="text-sm text-gray-600 font-sans tracking-wider">» Ejercicios para Hombres «</span>
         </div>
     </nav>

     <!-- Main content -->
     <main class="container mx-auto px-4 pb-16">
         <!-- Hero section -->
         <section class="mb-12 text-center">
             <h1 class="page-title text-4xl sm:text-5xl mb-4">Desarrolla Brazos Poderosos</h1>
             <p class="text-lg text-gray-700 mb-8 max-w-3xl mx-auto font-light">Explora ejercicios efectivos, técnicas avanzadas y consejos de expertos para maximizar el crecimiento de tus bíceps, tríceps y antebrazos.</p>
         </section>

         <!-- Search Bar -->
         <section id="search-container" class="mb-10 max-w-2xl mx-auto">
             <input type="text" id="search-input" placeholder="Buscar ejercicio o concepto...">
             <i class="fas fa-search"></i>
         </section>

         <!-- Title List Container -->
         <section class="mb-10">
             <h2 class="section-title text-2xl sm:text-3xl mb-8 text-center mx-auto">
                 <i class="fas fa-list-ul text-blue-500 mr-2"></i> <!-- Icono lista -->
                 Índice de Ejercicios y Técnicas
             </h2>
             <div id="title-list">
                  <p id="titles-loading" class="text-gray-500 col-span-full text-center text-lg font-sans">Cargando catálogo de ejercicios...</p>
                  <!-- Los .title-item se añadirán aquí -->
             </div>
             <p id="no-results" class="text-gray-500 col-span-full text-center text-lg mt-4 hidden font-sans">No se encontraron ejercicios que coincidan con tu búsqueda.</p>
             <div id="generate-more-container" class="text-center mt-8">
                 <button id="generate-more-btn">
                      <i class="fas fa-sync-alt mr-2 animate-spin hidden"></i>
                     Cargar Más Ejercicios (40)
                  </button>
             </div>
         </section>

     </main>

     <!-- Explanation Modal -->
     <div id="story-modal">
         <div class="modal-content-wrapper">
             <button class="modal-close-btn" id="modal-close" aria-label="Cerrar">&times;</button>

             <!-- Loading Indicator -->
             <div id="modal-loading">
                 <div class="loading-spinner-modal"></div>
                 <p>Cargando detalles del ejercicio...</p>
             </div>

             <!-- Content Area Wrapper -->
             <div id="modal-story-content-area" class="content-hidden flex flex-col flex-grow min-h-0">

                 <!-- Scrollable Text Area -->
                 <div id="modal-content-area">
                     <h2 id="modal-title" class="text-xl md:text-2xl font-bold mb-4 text-center flex-shrink-0"></h2>
                     <div id="modal-content">
                         <!-- Explanation text (HTML) goes here -->
                         <!-- La imagen y su placeholder/spinner se añadirán aquí vía JS -->
                     </div>
                 </div>

                 <!-- Chat Section -->
                 <div id="chat-section">
                      <h3 class="text-lg font-semibold mb-3 text-gray-700 text-center"><i class="fas fa-comments mr-2 text-blue-500"></i>Pregúntale al Entrenador</h3>
                     <div id="chat-history">
                         <!-- Chat messages will appear here -->
                         <div class="ai-message">¡Hola! ¿Tienes alguna duda sobre este ejercicio? Pregúntame sobre la forma, músculos trabajados, variaciones, etc.</div>
                     </div>
                     <div id="chat-loading">
                         <i class="fas fa-spinner fa-spin"></i> Procesando tu pregunta...
                     </div>
                     <div id="chat-input-area">
                         <input type="text" id="chat-input" placeholder="Ej: ¿Es mejor con barra Z o recta?">
                         <button id="chat-send-btn" aria-label="Enviar Mensaje">
                             <i class="fas fa-paper-plane"></i>
                         </button>
                     </div>
                 </div>

                 <!-- Error Display Area -->
                 <div id="modal-error" class="error-msg content-hidden mt-4 flex-shrink-0">
                      <i class="fas fa-exclamation-triangle"></i>
                      <span id="modal-error-message"></span>
                  </div>
             </div>
          </div>
      </div>

      <!-- Fullscreen Image Overlay -->
      <div id="image-fullscreen-overlay">
          <button id="fullscreen-close-btn" aria-label="Cerrar Imagen">&times;</button>
          <img id="fullscreen-image" src="" alt="Imagen Ampliada del Ejercicio">
      </div>

      <!-- Footer -->
      <footer class="bg-gray-800 text-gray-400 py-6 mt-12 border-t border-gray-700 font-sans">
          <div class="container mx-auto px-4 text-center text-sm">
              <p>Contenido generado por IA con fines informativos. Consulta siempre a un profesional de la salud o entrenador certificado antes de iniciar cualquier programa de ejercicios.</p>
              <p class="mt-1">La información no sustituye el consejo médico o de entrenamiento personalizado.</p>
              <p class="mt-2">© 2025 Guía de Brazos Fit</p>
          </div>
      </footer>


    <script>
        // ========== CONFIG & DATA ==========
        const predefinedTitles = [
            // Bíceps - Curls con Barra
            "Curl de Bíceps con Barra Recta", "Curl de Bíceps con Barra Z (EZ)", "Curl de Bíceps Agarre Inverso (Barra)", "Curl Araña con Barra (Spider Curl)", "Curl de Bíceps 21s (Barra)", "Curl con Barra en Banco Scott (Predicador)", "Curl Drag con Barra (Drag Curl)",
            // Bíceps - Curls con Mancuernas
            "Curl de Bíceps Alterno con Mancuernas (De pie)", "Curl de Bíceps Alterno con Mancuernas (Sentado)", "Curl de Bíceps Martillo (Hammer Curl) Alterno", "Curl de Bíceps Martillo Simultáneo", "Curl Concentrado con Mancuerna", "Curl Inclinado con Mancuernas (Incline Dumbbell Curl)", "Curl Zottman", "Curl Araña con Mancuernas", "Curl de Bíceps Martillo Cruzado (Cross Body Hammer Curl)", "Curl de Bíceps en Banco Scott con Mancuerna",
            // Bíceps - Curls con Cables y Máquinas
            "Curl de Bíceps con Cable (Barra Recta/Z)", "Curl de Bíceps con Cable Unilateral (Polea Baja)", "Curl de Bíceps con Cable Alto (High Cable Curl)", "Curl de Bíceps Martillo con Cuerda (Cable)", "Curl Concentrado en Polea Baja", "Curl en Máquina de Bíceps (Selectorized)", "Curl Predicador en Máquina",
            // Tríceps - Extensiones
            "Extensión de Tríceps sobre la Cabeza con Mancuerna (Copa)", "Extensión de Tríceps sobre la Cabeza con Barra Z", "Extensión de Tríceps con Cuerda en Polea Alta (Pushdown)", "Extensión de Tríceps con Barra V en Polea Alta", "Extensión de Tríceps Unilateral en Polea Alta (Agarre Inverso)", "Press Francés (Skullcrusher) con Barra Recta/Z", "Press Francés (Skullcrusher) con Mancuernas", "Patada de Tríceps con Mancuerna (Triceps Kickback)", "Patada de Tríceps con Cable", "Extensión de Tríceps Tumbado con Cable", "Extensión JM (JM Press)",
            // Tríceps - Presses y Dips
            "Press de Banca Agarre Cerrado (Close-Grip Bench Press)", "Fondos en Paralelas (Dips)", "Fondos en Banco (Bench Dips)", "Fondos en Máquina Asistida/Gravitron", "Floor Press Agarre Cerrado",
            // Antebrazos
            "Curl de Muñeca con Barra (Palmas Arriba)", "Curl de Muñeca Inverso con Barra (Palmas Abajo)", "Curl de Muñeca con Mancuernas (Palmas Arriba/Abajo)", "Curl Martillo Inverso", "Paseo del Granjero (Farmer's Walk)", "Rodillo de Muñeca (Wrist Roller)", "Ejercicios con Pinzas de Agarre (Hand Grippers)", "Aguantar Disco Pesado (Plate Pinch)", "Flexiones sobre nudillos/dedos",
            // Movimientos Compuestos que involucran brazos
            "Dominadas (Pull-ups) - Agarre Prono", "Dominadas (Pull-ups) - Agarre Neutro", "Dominadas (Pull-ups) - Agarre Supino (Chin-ups)", "Remo con Barra (Barbell Row)", "Remo con Mancuerna (Dumbbell Row)", "Flexiones (Push-ups) - Variaciones", "Press Militar (Overhead Press)",
            // Conceptos y Técnicas
            "Anatomía del Bíceps Braquial", "Anatomía del Tríceps Braquial", "Anatomía de los Músculos del Antebrazo", "Importancia de la Forma Correcta en Curls", "Errores Comunes en Extensiones de Tríceps", "Principio de Sobrecarga Progresiva", "Tiempo Bajo Tensión (TUT) para Hipertrofia", "Rango de Repeticiones para Crecimiento Muscular (Brazos)", "Frecuencia de Entrenamiento para Brazos", "Selección de Peso Adecuada", "Importancia del Calentamiento Específico", "Estiramientos para Brazos (Post-Entreno)", "Nutrición para el Crecimiento Muscular", "Suplementos Útiles para Desarrollo de Brazos (Creatina, Proteína)", "Descanso y Recuperación para Brazos", "Superseries para Bíceps y Tríceps", "Series Descendentes (Drop Sets) para Brazos", "Series Gigantes para Brazos", "Técnica de Pausa-Descanso (Rest-Pause)", "Periodización del Entrenamiento de Brazos", "Cómo Romper Estancamientos en Brazos", "Entrenamiento de Oclusión (BFR) para Brazos (Avanzado)", "Diferencia entre Fuerza e Hipertrofia en Brazos", "Ejercicios Isométricos para Brazos", "Conexión Mente-Músculo en Brazos", "Equipamiento Esencial para Entrenar Brazos en Casa", "Uso de Bandas de Resistencia para Brazos", "Cómo Prevenir Lesiones Comunes (Codo de Tenista/Golfista)", "Rutina Completa de Brazos para Principiantes", "Rutina Completa de Brazos para Intermedios", "Rutina Completa de Brazos para Avanzados", "Ejercicios de Aislamiento vs. Compuestos para Brazos", "Mitos Comunes sobre el Entrenamiento de Brazos", "Genética y Desarrollo de Brazos", "Simetría Muscular en Brazos: Cómo corregirla", "Ejercicios para el Braquial Anterior", "Ejercicios para la Cabeza Larga del Bíceps", "Ejercicios para la Cabeza Corta del Bíceps", "Ejercicios para la Cabeza Lateral del Tríceps", "Ejercicios para la Cabeza Larga del Tríceps", "Ejercicios para la Cabeza Medial del Tríceps", "Importancia del Agarre (Grip) en el Desarrollo del Antebrazo",
            // ... (Continuar añadiendo variaciones, ángulos, equipos específicos)
        ];
        const exerciseThemes = [
            "ejercicios de bíceps con mancuernas", "ejercicios de tríceps con polea", "ejercicios de antebrazo para agarre",
            "variaciones de curl de bíceps", "técnicas avanzadas para tríceps", "errores comunes en fondos",
            "anatomía del brazo", "rutinas de hipertrofia para brazos", "ejercicios compuestos para brazos",
            "entrenamiento de brazos en casa", "prevención de lesiones de codo", "nutrición para ganar masa muscular",
            "calentamiento y enfriamiento para brazos", "superseries bíceps/tríceps", "drop sets para congestión",
            "ejercicios con barra Z", "importancia de la forma correcta", "desarrollo de la cabeza larga del tríceps",
            "mejores ejercicios para el braquial", "fortalecimiento del agarre", "frecuencia de entrenamiento de brazos"
        ];
        const textApiConfig = { // Para descripción principal
            model: "mistral",
            systemPrompt: "Eres un entrenador personal certificado (CPT) y especialista en fuerza y acondicionamiento (CSCS), con amplia experiencia en hipertrofia muscular masculina. Tu tarea es describir el ejercicio, técnica o concepto de entrenamiento de brazos indicado de manera detallada, clara y precisa. Incluye: Músculos principales y secundarios trabajados, ejecución paso a paso con énfasis en la forma correcta, errores comunes a evitar, consejos clave (breathing, tempo), posibles variaciones o alternativas, consideraciones de seguridad, y cómo podría integrarse en una rutina semanal. Usa un lenguaje motivador pero técnico y basado en evidencia. El objetivo es una guía completa de aproximadamente 1200-1300 palabras. Basa tu descripción únicamente en el siguiente ejercicio o tema:",
            timeoutSeconds: 150
        };
        const chatApiConfig = { // Config base para chat
            model: "mistral-tiny", // Opcional: usar modelo más rápido
            systemPrompt: "Actúa como un asistente de entrenador personal virtual. Estás especializado únicamente en el ejercicio o concepto específico que se está mostrando actualmente. Responde preguntas de seguimiento sobre la forma, músculos implicados, variaciones, sensaciones musculares esperadas, o cómo evitar errores comunes para ESE ejercicio en particular. Sé conciso, claro y motivador.",
            timeoutSeconds: 45
        };
        const titleGenerationConfig = {
            model: "mistral",
            // *** MODIFICADO: Pedir 40 títulos ***
            systemPrompt: "Actúa como un generador de ideas conciso para una guía de entrenamiento de brazos. Genera exactamente 40 nombres específicos de ejercicios de bíceps, tríceps o antebrazos, variaciones de estos, técnicas de intensidad, o conceptos relacionados con el entrenamiento de fuerza y la hipertrofia muscular masculina. Devuelve *solo* la lista de ítems, uno por línea. No incluyas números, guiones, introducciones ni despedidas.",
            timeoutSeconds: 60 // Aumentar un poco el timeout por si tarda más en generar 40
        };

        // ========== DOM ELEMENTS ==========
        // (Igual que la versión anterior, asegúrate que todos existen)
        const searchInput = document.getElementById('search-input');
        const titleListContainer = document.getElementById('title-list');
        const titlesLoading = document.getElementById('titles-loading');
        const noResultsMsg = document.getElementById('no-results');
        const generateMoreContainer = document.getElementById('generate-more-container');
        const generateMoreBtn = document.getElementById('generate-more-btn');
        const generateMoreSpinner = generateMoreBtn.querySelector('i');
        const storyModal = document.getElementById('story-modal');
        const modalCloseBtn = document.getElementById('modal-close');
        const modalLoadingIndicator = document.getElementById('modal-loading');
        const modalStoryContentArea = document.getElementById('modal-story-content-area');
        const modalTextArea = document.getElementById('modal-content-area');
        const modalTitle = document.getElementById('modal-title');
        const modalContent = document.getElementById('modal-content');
        const modalError = document.getElementById('modal-error');
        const modalErrorMessage = document.getElementById('modal-error-message');
        const chatSection = document.getElementById('chat-section');
        const chatHistory = document.getElementById('chat-history');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');
        const chatLoadingIndicator = document.getElementById('chat-loading');
        const imageFullscreenOverlay = document.getElementById('image-fullscreen-overlay');
        const fullscreenImage = document.getElementById('fullscreen-image');
        const fullscreenCloseBtn = document.getElementById('fullscreen-close-btn');

        // ========== State Variables ==========
        let currentExerciseTitle = null; // Contexto para el chat

        // ========== API FUNCTIONS ==========
        async function fetchTextFromApi(prompt, config, isChat = false) {
             const encodedPrompt = encodeURIComponent(prompt);
             // Usar prompt dinámico para chat
             const systemPromptToUse = isChat && currentExerciseTitle
                 ? `Eres un asistente de entrenador personal virtual. Estás especializado únicamente en el ejercicio '${currentExerciseTitle}'. Responde preguntas de seguimiento sobre la forma, músculos implicados, variaciones, o errores comunes para ESE ejercicio. Sé conciso y claro.`
                 : config.systemPrompt;
             const encodedSystem = encodeURIComponent(systemPromptToUse);

             const params = new URLSearchParams({ model: config.model, system: encodedSystem });
             if (config.seed && !isChat) params.append('seed', config.seed);
             const url = `https://text.pollinations.ai/${encodedPrompt}?${params.toString()}`;
             console.log(`Fetching text from API (${config.model}, Chat: ${isChat}): ${url.substring(0, 200)}...`);

             const controller = new AbortController();
             const timeoutId = setTimeout(() => controller.abort(), config.timeoutSeconds * 1000);

             try {
                 const response = await fetch(url, { signal: controller.signal });
                 clearTimeout(timeoutId);

                 if (!response.ok) {
                     throw new Error(`(Error ${response.status}) Nuestros servidores están algo congestionados ahora mismo. Por favor, inténtalo de nuevo en un momento.`);
                 }
                 const text = await response.text();
                 if (!text || text.trim().length === 0) {
                     throw new Error("La respuesta de la IA llegó vacía. Intenta reformular tu consulta.");
                 }
                 console.log(`API Response received (${text.length} chars)`);
                 // Simple filter for potential refusals (adapt keywords as needed)
                 const lowerCaseText = text.toLowerCase();
                  if (lowerCaseText.includes("cannot fulfill") || lowerCaseText.includes("no puedo proporcionar") || lowerCaseText.includes("i cannot") || lowerCaseText.includes("no soy capaz") || lowerCaseText.includes("información médica") || lowerCaseText.includes("asesoramiento médico")) {
                      console.warn("API response potentially refused or gave disclaimer.");
                      // Return a generic helpful message instead of a refusal or medical advice
                      if (isChat) {
                          return "Como IA, no puedo dar consejos médicos. Para dudas específicas sobre salud o lesiones, consulta a un profesional. Sin embargo, puedo ayudarte con la técnica general del ejercicio. ¿Tienes otra pregunta sobre la forma?";
                      } else {
                           // For main content, maybe let it pass but log it, or try a fallback?
                           // For now, let it pass but log it. A more robust solution might be needed.
                           console.warn("Main content might contain disclaimers.");
                      }
                  }
                 return text;
             } catch (error) {
                 clearTimeout(timeoutId);
                 console.error("API Fetch Error:", error);
                 if (error.name === 'AbortError') {
                     throw new Error(`La conexión tardó demasiado (>${config.timeoutSeconds}s). Revisa tu conexión o inténtalo más tarde.`);
                 }
                 throw new Error(error.message || "Hubo un problema conectando con el asistente virtual.");
             }
        }
        async function fetchExplanationText(conceptTitle) {
            return fetchTextFromApi(conceptTitle, textApiConfig, false);
        }
        async function fetchChatResponse(userQuery) {
            if (!currentExerciseTitle) throw new Error("Error interno: No se estableció el contexto del ejercicio para el chat.");
            return fetchTextFromApi(userQuery, chatApiConfig, true);
        }
        async function fetchGeneratedTitles() { // Fetches 40 titles now
            const randomTheme = getRandomElement(exerciseThemes) || "ejercicios de brazo variados";
            // Prompt pide 40
            const specificPrompt = `Genera 40 nombres/conceptos de ejercicios de brazo para hombres sobre ${randomTheme}`;
            return fetchTextFromApi(specificPrompt, titleGenerationConfig, false)
                 .then(text => {
                     const titles = text.split('\n')
                                       .map(line => line.replace(/^[-\d.\s*]+/, '').trim())
                                       .filter(line => line.length > 5 && line.length < 100); // Shorter max length maybe
                     // *** Expect more titles ***
                     if (titles.length < 15) { // Check for at least a decent number, even if not 40
                         console.warn(`API generated only ${titles.length} titles when 40 were requested.`);
                         if (titles.length < 5) throw new Error("La IA no generó suficientes ideas de ejercicios.");
                     }
                     return titles.slice(0, 40); // Return up to 40
                 });
        }
        function createPollinationsImageUrl(promptText, options = {}) {
             const defaults = { seed: Math.floor(Math.random() * 10000000), width: 700, height: 550, nologo: true }; // Slightly adjusted size
             const settings = { ...defaults, ...options };
             const safePromptText = typeof promptText === 'string' && promptText.trim() !== '' ? promptText : "male arm exercise";
             // Prompt for illustration or diagram
             const enhancedPrompt = `Clear illustration or anatomical diagram showing correct form for the exercise '${safePromptText}'. Focus on muscle activation (biceps, triceps, or forearms). Male figure. Gym setting or clean background. Avoid overly stylized art. Technical fitness illustration style.`;
             const escapedPrompt = encodeURIComponent(enhancedPrompt);
             if (!escapedPrompt) return '';
             // Negative prompts: Incorrect form, unrelated objects, text labels, multiple figures unless relevant, overly casual setting
             const negativePrompt = "incorrect form, bad posture, injury, text, words, labels, multiple people chatting, distracting background, photorealistic face, blurry, low quality, watermark, signature";
             const escapedNegative = encodeURIComponent(negativePrompt);
             let url = `https://image.pollinations.ai/prompt/${escapedPrompt}?seed=${settings.seed}&width=${settings.width}&height=${settings.height}&negative=${escapedNegative}`;
             if (settings.nologo) url += '&nologo=true';
             console.log("Image URL:", url);
             return url;
         }

        // ========== Text Formatting Function ========== (sin cambios)
        function formatExplanationText(rawText) { /* ... */
             if (!rawText) return '';
             let formatted = rawText.trim();
             formatted = formatted.replace(/\\text\{(.*?)\}/g, '$1');
             formatted = formatted.replace(/(\w)_\{?(\d+)\}?/g, '$1<sub>$2</sub>');
             formatted = formatted.replace(/(\w)\^\{?([\d+\-−]+)\}?/g, (match, base, exponent) => { const cleanExponent = exponent.replace('−', '-'); return `${base}<sup>${cleanExponent}</sup>`; });
             formatted = formatted.replace(/\\rightarrow/g, '&rarr;');
             formatted = formatted.replace(/\\\[\s*(.*?)\s*\\\]/g, '<p class="formula">$1</p>');
             formatted = formatted.replace(/^####\s+(.*)$/gm, '<h4>$1</h4>');
             formatted = formatted.replace(/^###\s+(.*)$/gm, '<h3>$1</h3>');
             formatted = formatted.replace(/^##\s+(.*)$/gm, '<h2>$1</h2>');
             formatted = formatted.replace(/^#\s+(.*)$/gm, '<h1>$1</h1>');
             formatted = formatted.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
             formatted = formatted.replace(/\*(.*?)\*/g, '<em>$1</em>');
             // Consider replacing simple list markers like '-' or '*' with proper <ul><li> tags if the API uses them consistently
             formatted = formatted.replace(/^\s*-\s+(.*)/gm, '<li>$1</li>'); // Basic unordered list item
             formatted = formatted.replace(/<\/li>\n<li>/g, '</li><li>'); // Clean up list items
             formatted = formatted.replace(/^(<li>.*<\/li>)$/gm, '<ul>$1</ul>'); // Wrap standalone LIs in UL (basic)
             // This list conversion is basic and might need refinement based on actual API output

             const blocks = formatted.split(/\n\s*\n/).filter(p => p.trim().length > 0);
             formatted = blocks.map(block => {
                 if (block.startsWith('<h') || block.startsWith('<ul') || block.startsWith('<p class="formula">')) return block; // Don't wrap headers/lists in <p>
                 let content = block.replace(/\n/g, ' ');
                 return `<p>${content}</p>`;
             }).join('');

             // Refine list wrapping - wrap adjacent ULs into one
              formatted = formatted.replace(/<\/ul>\s*<ul>/g, '');

             return formatted;
         }


        // ========== MODAL FUNCTIONS ========== (sin cambios en lógica show/hide/reset)
        function showModal() { storyModal.classList.add('active'); document.body.style.overflow = 'hidden'; }
        function hideModal() {
            storyModal.classList.remove('active');
            if (!imageFullscreenOverlay.classList.contains('active')) {
                document.body.style.overflow = '';
            }
            modalTextArea.scrollTop = 0;
            console.log("Scroll set to 0 on hideModal");
            resetModalState();
        }
        function resetModalState() {
             modalLoadingIndicator.style.display = 'flex';
             modalStoryContentArea.classList.add('content-hidden');
             modalError.classList.add('content-hidden');
             modalTitle.textContent = '';
             modalContent.innerHTML = '';
             modalErrorMessage.textContent = '';
             chatHistory.innerHTML = '<div class="ai-message">¡Hola! ¿Tienes alguna duda sobre este ejercicio? Pregúntame sobre la forma, músculos trabajados, variaciones, etc.</div>'; // Reset with initial message
             chatInput.value = '';
             chatLoadingIndicator.style.display = 'none';
             chatSendBtn.disabled = false;
             currentExerciseTitle = null;
             hideFullscreenImage();
        }

        // ========== FULLSCREEN IMAGE FUNCTIONS ========== (sin cambios)
        function showFullscreenImage(imgSrc) {
            if (!imageFullscreenOverlay || !fullscreenImage) return;
            fullscreenImage.src = imgSrc;
            imageFullscreenOverlay.classList.add('active');
            document.body.style.overflow = 'hidden';
        }
        function hideFullscreenImage() {
            if (!imageFullscreenOverlay) return;
            imageFullscreenOverlay.classList.remove('active');
            if (!storyModal.classList.contains('active')) {
                 document.body.style.overflow = '';
            }
            fullscreenImage.src = '';
        }

        // ========== CHAT FUNCTIONS ========== (sin cambios en lógica)
        function addChatMessage(message, sender) { /* ... */
            const msgDiv = document.createElement('div');
            msgDiv.classList.add('chat-message', sender === 'user' ? 'user-message' : 'ai-message');
            message = message.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
            message = message.replace(/\*(.*?)\*/g, '<em>$1</em>');
            msgDiv.innerHTML = message;
            chatHistory.appendChild(msgDiv);
            chatHistory.scrollTop = chatHistory.scrollHeight;
         }
        function addChatError(message) { /* ... */
             const errorDiv = document.createElement('div');
             errorDiv.classList.add('chat-error');
             errorDiv.textContent = message;
             chatHistory.appendChild(errorDiv);
             chatHistory.scrollTop = chatHistory.scrollHeight;
        }
        async function handleSendMessage() { /* ... */
            const userQuery = chatInput.value.trim();
            if (!userQuery || chatSendBtn.disabled) return;
            addChatMessage(userQuery, 'user');
            chatInput.value = '';
            chatSendBtn.disabled = true;
            chatLoadingIndicator.style.display = 'block';
            try {
                const aiResponse = await fetchChatResponse(userQuery);
                addChatMessage(aiResponse, 'ai');
            } catch (error) {
                console.error("Chat Error:", error);
                addChatError(`Asistente: ${error.message}`); // Prepend "Asistente:" maybe
            } finally {
                chatLoadingIndicator.style.display = 'none';
                chatSendBtn.disabled = false;
                chatInput.focus();
            }
         }

        // ========== UI & EVENT HANDLERS ==========
        function getRandomElement(arr) { return arr[Math.floor(Math.random() * arr.length)]; }
        function shuffleArray(array) { let ci=array.length,ri;while(ci>0){ri=Math.floor(Math.random()*ci);ci--;[array[ci],array[ri]]=[array[ri],array[ci]];} return array; }
        function createTitleItem(title) { const div=document.createElement('div'); div.className='title-item'; div.textContent=title; div.setAttribute('data-title', title); div.addEventListener('click', () => handleTitleClick(title)); return div; }
        function displayTitles(titles) {
             if (!titleListContainer || !titlesLoading) return;
             // Optional: Sort by category if possible, otherwise alphabetical
             const sortedTitles = titles.sort((a, b) => a.localeCompare(b));
             titleListContainer.innerHTML = '';
             titlesLoading.style.display = 'none';
             if (sortedTitles.length === 0) { titleListContainer.innerHTML = '<p class="text-gray-500 col-span-full text-center font-sans">No hay ejercicios disponibles en este momento.</p>'; return; }
             sortedTitles.forEach(title => titleListContainer.appendChild(createTitleItem(title)));
         }
        function appendTitles(newTitles) {
             if (!titleListContainer || !newTitles || newTitles.length === 0) return;
             const existingTitles = new Set(Array.from(titleListContainer.querySelectorAll('.title-item')).map(item => item.dataset.title));
             let addedCount = 0;
             newTitles.forEach(title => {
                 if (!existingTitles.has(title)) {
                     titleListContainer.appendChild(createTitleItem(title));
                     addedCount++;
                 }
             });
             console.log(`Added ${addedCount} new unique titles.`);
             filterTitles(searchInput.value); // Re-apply filter
         }

        // MODIFIED: handleTitleClick (sin cambios funcionales mayores, solo contexto)
        async function handleTitleClick(title) {
            resetModalState();
            showModal();
            modalTitle.textContent = title;
            currentExerciseTitle = title; // *** SET CHAT CONTEXT ***
            modalContent.innerHTML = '';
            // chatHistory.innerHTML = ''; // Reset in resetModalState now
            modalError.classList.add('content-hidden');
            modalLoadingIndicator.style.display = 'flex';

            try {
                const rawExplanationText = await fetchExplanationText(title);
                const formattedExplanation = formatExplanationText(rawExplanationText);

                modalLoadingIndicator.style.display = 'none';
                modalContent.innerHTML = formattedExplanation;
                modalStoryContentArea.classList.remove('content-hidden');

                modalTextArea.scrollTop = 0;
                console.log("Scroll set to 0 after content visible");

                // Prepare image placeholder
                const placeholderDiv = document.createElement('div');
                placeholderDiv.className = 'image-placeholder';
                placeholderDiv.innerHTML = `
                    <div class="spinner"></div>
                    <i class="fas fa-image placeholder-icon"></i> <!-- Icono imagen genérico -->
                    <p style="font-size: 0.8em; margin-top: 0.5rem;">Cargando ilustración...</p>
                `;
                modalContent.appendChild(placeholderDiv); // Add placeholder to text area

                // Create image element
                const imgElement = document.createElement('img');
                imgElement.className = 'final-image';
                imgElement.alt = `Ilustración de ${title}`;
                imgElement.style.display = 'none';

                imgElement.onload = () => {
                    console.log("Image loaded successfully.");
                    placeholderDiv.remove();
                    imgElement.style.display = 'block';
                    imgElement.addEventListener('click', () => {
                        showFullscreenImage(imgElement.src);
                    });
                };
                imgElement.onerror = () => {
                    console.error("Error loading image for:", title);
                    placeholderDiv.innerHTML = `<i class="fas fa-exclamation-triangle placeholder-icon text-red-400"></i><p style="font-size:0.8em;margin-top:0.5rem;">Error al cargar ilustración.</p>`;
                };

                const imageUrl = createPollinationsImageUrl(title);
                if (imageUrl) {
                    imgElement.src = imageUrl;
                    modalContent.appendChild(imgElement);
                } else {
                     console.error("Could not create image URL for:", title);
                     placeholderDiv.innerHTML = `<i class="fas fa-exclamation-circle placeholder-icon"></i><p style="font-size:0.8em;margin-top:0.5rem;">Error URL de imagen.</p>`;
                }

            } catch (error) {
                console.error("Failed display:", error);
                modalLoadingIndicator.style.display = 'none';
                modalErrorMessage.textContent = error.message || "Error desconocido al cargar la información.";
                modalError.classList.remove('content-hidden');
                modalStoryContentArea.classList.remove('content-hidden');
                modalContent.innerHTML = '';
                chatSection.classList.add('content-hidden');
            }
        }

        // *** MODIFIED: handleGenerateMoreTitles to fetch 40 ***
        async function handleGenerateMoreTitles() {
             if (!generateMoreBtn || !generateMoreSpinner || !generateMoreContainer) return;
             generateMoreBtn.disabled = true;
             // *** Updated Button Text ***
             generateMoreBtn.innerHTML = '<i class="fas fa-sync-alt mr-2 animate-spin"></i> Cargando más (40)...';
             try {
                 const newTitles = await fetchGeneratedTitles(); // Function now fetches 40
                 if (newTitles && newTitles.length > 0) {
                     appendTitles(newTitles);
                     // Optionally provide feedback if fewer than 40 unique titles were added
                     // (appendTitles logs this to console)
                 } else {
                      alert("No se pudieron generar más ejercicios en este momento.");
                 }
             } catch (error) {
                 console.error("Failed title generation:", error);
                 alert(`Error al generar ejercicios: ${error.message}`);
             } finally {
                 generateMoreBtn.disabled = false;
                  // *** Updated Button Text ***
                 generateMoreBtn.innerHTML = '<i class="fas fa-sync-alt mr-2 animate-spin hidden"></i> Cargar Más Ejercicios (40)';
             }
         }

         // Search Filter Function (con normalización)
         function filterTitles(searchTerm) {
             const term = searchTerm.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "").trim();
             const titleItems = titleListContainer.querySelectorAll('.title-item');
             let visibleCount = 0;
             titleItems.forEach(item => {
                 const titleText = item.dataset.title.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
                 const isVisible = titleText.includes(term);
                 item.classList.toggle('hidden', !isVisible);
                 if (isVisible) visibleCount++;
             });
             noResultsMsg.classList.toggle('hidden', visibleCount > 0);
         }

        // ========== INITIALIZATION ==========
        function initApp() {
            // Check all essential elements exist
             if (!titleListContainer || !storyModal || !modalCloseBtn || !generateMoreBtn || !titlesLoading || !searchInput || !noResultsMsg || !chatInput || !chatSendBtn || !imageFullscreenOverlay || !fullscreenCloseBtn || !modalTextArea) {
                 console.error("Initialization failed: Missing essential UI elements.");
                 document.body.innerHTML = '<p style="color: red; font-size: 1.5em; text-align: center; padding-top: 3em;">Error crítico: No se pudo inicializar la interfaz de la guía de ejercicios.</p>';
                 return;
              }

            modalCloseBtn.addEventListener('click', hideModal);
            storyModal.addEventListener('click', (event) => { if (event.target === storyModal) hideModal(); });
            generateMoreBtn.addEventListener('click', handleGenerateMoreTitles);
            searchInput.addEventListener('input', (event) => filterTitles(event.target.value));
            searchInput.addEventListener('keypress', (event) => { if (event.key === 'Enter') event.preventDefault(); });
            chatSendBtn.addEventListener('click', handleSendMessage);
            chatInput.addEventListener('keypress', (event) => { if (event.key === 'Enter') handleSendMessage(); });
            imageFullscreenOverlay.addEventListener('click', hideFullscreenImage);
            fullscreenCloseBtn.addEventListener('click', (event) => { event.stopPropagation(); hideFullscreenImage(); });

            displayTitles(predefinedTitles);
            noResultsMsg.classList.add('hidden');
        }
        document.addEventListener('DOMContentLoaded', initApp);
    </script>

</body>
</html>